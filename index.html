<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Semantic Sorter</title>
</head>

<body class="bg-slate-900 text-white min-h-screen p-8">
  <div id="app" class="max-w-4xl mx-auto space-y-8">
    <h1 class="text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
      Semantic Sorter
    </h1>

    <div class="space-y-4">
      <p class="text-slate-400">
        Enter entities below (one per line). They will be sorted semantically using WebGPU embeddings and a TSP solver.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="space-y-4">
          <h2 class="text-xl font-semibold text-blue-300">Input Entities</h2>
          <textarea id="input-text"
            class="w-full h-96 bg-slate-800 border border-slate-700 rounded-xl p-4 text-slate-200 focus:ring-2 focus:ring-blue-500 outline-none resize-none font-mono text-sm leading-relaxed"
            placeholder="Tokyo&#10;Paris&#10;London&#10;New York&#10;Kyoto&#10;Berlin&#10;Osaka"></textarea>
          <button id="sort-btn"
            class="w-full py-3 px-6 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">
            <span>Sort Entities</span>
          </button>
          <div id="status" class="text-sm text-slate-400 min-h-[1.5em]"></div>
        </div>

        <div class="space-y-4">
          <h2 class="text-xl font-semibold text-green-300">Sorted Result</h2>
          <div id="output-list"
            class="w-full h-96 bg-slate-800/50 border border-slate-700/50 rounded-xl p-4 overflow-y-auto space-y-2 relative">
            <div class="absolute inset-0 flex items-center justify-center text-slate-600 pointer-events-none"
              id="empty-state">
              Result will appear here...
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="space-y-4 pt-8 max-w-[95%] mx-auto">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-semibold text-purple-300">Debug: Distance Matrix</h2>
      <div class="flex items-center gap-4 bg-slate-800 px-4 py-2 rounded-lg border border-slate-700">
        <label for="sim-threshold" class="text-sm text-slate-400">Color Threshold:</label>
        <input type="range" id="sim-threshold" min="0" max="1" step="0.01" value="0.8" class="w-32 accent-purple-500">
        <span id="sim-threshold-val" class="text-sm font-mono text-purple-400 w-12 text-right">0.80</span>
      </div>
    </div>
    <div class="overflow-x-auto bg-slate-800 border border-slate-700 rounded-xl p-4">
      <table id="matrix-table" class="w-full text-left text-sm text-slate-400">
        <thead class="text-xs text-slate-200 uppercase bg-slate-700/50">
          <tr></tr>
        </thead>
        <tbody>
          <tr>
            <td class="p-4 text-center">Matrix will appear here after sorting...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <script type="module" src="/src/main.ts"></script>
</body>

</html>