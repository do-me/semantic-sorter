@import "tailwindcss";

.matrix-tbl-container {
    --threshold: 0.8;
}

.matrix-cell {
    /* Calculate diff using calc, ensure spaces around operators */
    /* Using 0 and 1 without invalid trailing dots */
    --diff: calc(var(--sim) - var(--threshold));

    /* Amplify diff to push values to effectively -infinity or +infinity */
    --amplified: calc(var(--diff) * 100000);

    /* Clamp between 0 and 1 to create a binary switch (0 for < threshold, 1 for >= threshold) */
    --is-highlight: clamp(0, var(--amplified), 1);

    /* Slate 400 (#94a3b8) to Green 400 (#4ade80) */
    color: color-mix(in srgb, #94a3b8, #4ade80 calc(var(--is-highlight) * 100%));

    /* Transparent to Green with 20% opacity */
    background-color: color-mix(in srgb, transparent, rgba(74, 222, 128, 0.2) calc(var(--is-highlight) * 100%));
}